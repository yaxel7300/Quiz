<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire des Affinit√©s Secr√®tes | Pour Toi</title>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3.2.0/dist/email.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #7b4397; /* Violet doux */
            --secondary-color: #dc2430; /* Rose plus profond */
            --accent-color: #ffafcc; /* Rose pastel */
            --light-color: #fff9f9; /* Presque blanc, tr√®s doux */
            --dark-color: #3f3e53; /* Gris fonc√© doux */
            --success-color: #4CAF50;
            --warning-color: #ffc107;
            --danger-color: #f44336;
            --shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Playfair Display', serif; /* Police √©l√©gante par d√©faut */
        }
        body {
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            max-width: 95vw; /* Plus large sur mobile */
            margin: 20px auto; /* Moins de marge pour plus d'espace */
            background: white;
            border-radius: 25px; /* Bords plus arrondis */
            box-shadow: var(--shadow);
            overflow: hidden;
            animation: fadeIn 1s ease-out;
            border: 1px solid rgba(0,0,0,0.05); /* Petite bordure discr√®te */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 50px 20px; /* Plus d'espace */
            text-align: center;
            border-bottom: 5px solid var(--accent-color); /* Ligne d'accentuation */
            position: relative;
            overflow: hidden;
        }
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255,255,255,0.05);
            transform: rotate(45deg);
            z-index: 0;
            animation: headerWave 10s infinite linear;
        }
        @keyframes headerWave {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        h1 {
            font-family: 'Dancing Script', cursive; /* Police plus artistique pour le titre */
            font-size: 3.5rem; /* Plus grand */
            margin-bottom: 10px;
            font-weight: 700;
            position: relative;
            z-index: 1;
            text-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .subtitle {
            font-size: 1.3rem; /* Plus grand */
            opacity: 0.95;
            margin-bottom: 25px;
            position: relative;
            z-index: 1;
        }
        .quiz-container {
            padding: 35px; /* Plus de padding */
        }
        .question-box {
            background: var(--light-color);
            border-radius: 18px; /* Plus arrondi */
            padding: 30px; /* Plus de padding */
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            border-left: 8px solid var(--accent-color); /* Couleur d'accentuation */
            position: relative;
            overflow: hidden;
        }
        .question-box:hover {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
        }
        .question-box::after { /* Ajout d'un petit √©l√©ment d√©coratif */
            content: "‚ú®";
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.8rem;
            opacity: 0.3;
            pointer-events: none;
        }
        .question-text {
            font-size: 1.5rem; /* Plus grand */
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--dark-color); /* Couleur du texte principal */
            display: flex;
            align-items: center;
            border-bottom: 1px dashed rgba(0,0,0,0.1);
            padding-bottom: 15px;
        }
        .question-text::before {
            content: "üå∏"; /* Ic√¥ne plus douce */
            margin-right: 15px;
            font-size: 2rem;
            animation: bounce 2s infinite ease-in-out;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .answers {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px; /* Plus d'espace entre les options */
        }
        .answer-option {
            display: flex;
            align-items: center;
            padding: 18px 20px; /* Plus de padding */
            background: white;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid #e0e0e0;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.03);
            font-size: 1.1rem;
            font-weight: 500;
        }
        .answer-option:hover {
            background: var(--accent-color); /* Change de couleur au survol */
            color: white;
            border-color: var(--accent-color);
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }
        .answer-option input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.4); /* Plus grande */
            accent-color: var(--primary-color); /* Couleur du radio button */
        }
        .answer-option input[type="radio"]:checked + span {
            font-weight: 700;
            color: var(--primary-color); /* Souligne la r√©ponse choisie */
        }
        .answer-option:has(input[type="radio"]:checked) { /* Style pour l'option s√©lectionn√©e */
            background: var(--light-color);
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(123, 67, 151, 0.2);
            transform: scale(1.01);
        }

        .participant-info {
            background: var(--light-color);
            padding: 30px;
            border-radius: 18px;
            margin: 35px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0,0,0,0.05);
        }
        .form-group {
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        input[type="text"],
        input[type="email"] {
            width: 100%;
            padding: 16px; /* Plus de padding */
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1.1rem;
            transition: var(--transition);
            background-color: white;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.03);
        }
        input[type="text"]:focus,
        input[type="email"]:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 5px rgba(123, 67, 151, 0.2);
            background-color: #fcfaff;
        }
        button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 18px 40px; /* Plus de padding */
            font-size: 1.3rem; /* Plus grand */
            font-weight: 700;
            border-radius: 50px; /* Plus arrondi pour un look "bouton" */
            cursor: pointer;
            display: block;
            margin: 40px auto; /* Plus de marge */
            transition: var(--transition);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color)); /* Inversion de gradient au survol */
        }
        button:active {
            transform: translateY(0);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        button::before { /* Effet "clignotant" au survol */
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: rgba(255,255,255,0.15);
            border-radius: 50%;
            transition: all 0.6s ease-out;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            z-index: -1;
        }
        button:hover::before {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .results {
            text-align: center;
            padding: 40px; /* Plus de padding */
            background: var(--light-color);
            border-radius: 20px;
            margin-top: 30px;
            display: none;
            animation: fadeIn 0.6s ease-out;
            box-shadow: var(--shadow);
            border-top: 5px solid var(--success-color);
        }
        .results.show {
            display: block;
        }
        .score {
            font-size: 2.5rem; /* Plus grand */
            margin: 25px 0;
            color: var(--success-color);
            font-weight: 700;
            font-family: 'Dancing Script', cursive;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .score i {
            margin-right: 15px;
            font-size: 3rem;
            animation: tada 1.5s ease-out infinite alternate;
        }
        @keyframes tada {
            0% { transform: scale(1); }
            10%, 20% { transform: scale(0.9) rotate(-3deg); }
            30%, 50%, 70%, 90% { transform: scale(1.1) rotate(3deg); }
            40%, 60%, 80% { transform: scale(1.1) rotate(-3deg); }
            100% { transform: scale(1) rotate(0); }
        }
        .results p {
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        .correct, .incorrect {
            font-weight: bold;
            font-size: 1.3em; /* Un peu plus grand dans le texte */
        }
        .correct { color: var(--success-color); }
        .incorrect { color: var(--dark-color); } /* Utilise le dark-color pour le total */

        /* Easter Egg Styles - PLUS MAGIQUE ET ROMANTIQUE */
        .easter-egg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffdde1 0%, #ee9ca7 100%); /* D√©grad√© de rose doux */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000; /* Assure qu'il est au-dessus de tout */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.8s ease-out, visibility 0.8s ease-out;
            pointer-events: none;
            backdrop-filter: blur(10px); /* Effet de flou en arri√®re-plan */
        }
        .easter-egg.show {
            opacity: 1;
            visibility: visible;
            pointer-events: all;
        }
        .hearts-container {
            font-size: 5rem; /* C≈ìurs plus grands */
            margin-bottom: 40px;
            display: flex;
            gap: 20px; /* Plus d'espace entre les c≈ìurs */
            animation: floatHearts 4s ease-in-out infinite alternate; /* Nouvelle animation */
            position: relative;
        }
        @keyframes floatHearts {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
            50% { transform: translateY(-30px) rotate(5deg); opacity: 1; }
            100% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
        }
        .heart {
            color: #ff6b6b; /* Rouge vif pour les c≈ìurs */
            animation: pulseBeat 1.8s infinite cubic-bezier(0.66, 0.0, 0.0, 1); /* Animation de battement */
            text-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
        }
        .heart:nth-child(2) { animation-delay: 0.3s; }
        .heart:nth-child(3) { animation-delay: 0.6s; }

        @keyframes pulseBeat {
            0% { transform: scale(1); }
            30% { transform: scale(1.2); }
            50% { transform: scale(1); }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .love-message {
            font-family: 'Dancing Script', cursive; /* Police tr√®s romantique */
            font-size: 3.5rem; /* Message tr√®s grand et impactant */
            color: var(--dark-color);
            text-align: center;
            margin-bottom: 40px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            max-width: 90%;
            line-height: 1.3;
            animation: textPop 1.5s ease-out forwards;
            position: relative;
            padding: 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 20px;
            border: 2px dashed #ffafcc;
        }
        @keyframes textPop {
            0% { transform: scale(0.8); opacity: 0; }
            80% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .love-message small {
            font-family: 'Playfair Display', serif; /* Garde une police lisible pour le petit texte */
            font-size: 1.3rem; /* Plus grand */
            display: block;
            margin-top: 15px;
            opacity: 0.8;
            color: #6a1b9a; /* Couleur violette douce */
        }
        .close-btn {
            background: white;
            color: var(--secondary-color);
            border: none;
            padding: 16px 35px; /* Plus grand */
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            animation: buttonBounce 2s infinite ease-in-out;
        }
        @keyframes buttonBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .close-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
            color: var(--primary-color);
        }
        /* Confettis am√©lior√©s */
        .confetti {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: #f0f;
            animation: confetti-fall 8s linear infinite; /* Animation plus longue */
            pointer-events: none;
            border-radius: 50%; /* Confettis ronds */
            transform: rotate(var(--rotation, 0deg)); /* Rotation al√©atoire */
        }
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(var(--rotation-start, 0deg)) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) rotate(var(--rotation-end, 720deg)) scale(0.5);
                opacity: 0;
            }
        }
        /* Media Queries pour le mobile */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                margin: 10px auto;
                border-radius: 15px;
            }
            header {
                padding: 30px 15px;
            }
            h1 {
                font-size: 2.8rem;
            }
            .subtitle {
                font-size: 1rem;
            }
            .quiz-container {
                padding: 20px;
            }
            .question-box {
                padding: 20px;
                margin-bottom: 20px;
                border-left-width: 5px;
            }
            .question-text {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }
            .question-text::before {
                font-size: 1.5rem;
                margin-right: 10px;
            }
            .answer-option {
                padding: 12px 15px;
                font-size: 0.95rem;
            }
            .answer-option input[type="radio"] {
                transform: scale(1.1);
                margin-right: 10px;
            }
            .participant-info {
                padding: 20px;
                margin: 25px 0;
            }
            label {
                font-size: 1rem;
            }
            input[type="text"],
            input[type="email"] {
                padding: 12px;
                font-size: 1rem;
            }
            button {
                padding: 14px 25px;
                font-size: 1rem;
                margin: 25px auto;
            }
            .results {
                padding: 25px;
            }
            .score {
                font-size: 2rem;
            }
            .score i {
                font-size: 2.5rem;
            }
            .results p {
                font-size: 1rem;
            }

            /* Easter Egg Mobile */
            .love-message {
                font-size: 2.2rem;
                max-width: 95%;
                padding: 15px;
            }
            .love-message small {
                font-size: 1rem;
            }
            .hearts-container {
                font-size: 3.5rem;
                margin-bottom: 25px;
            }
            .close-btn {
                padding: 12px 25px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Questionnaire des Affinit√©s</h1>
            <p class="subtitle">D√©couvrez ensemble vos passions</p>
        </header>
        <div class="quiz-container">
            <div id="quiz-content"></div>
            <div class="participant-info">
                <div class="form-group">
                    <label for="participant-name">Votre pr√©nom <i class="fas fa-user-tag"></i></label>
                    <input type="text" id="participant-name" placeholder="" required>
                </div>
                <div class="form-group">
                    <label for="participant-email">Votre email <i class="fas fa-envelope-open-text"></i></label>
                    <input type="email" id="participant-email" placeholder="Pour recevoir les r√©sultats (optionnel)">
                </div>
            </div>
            <button id="submit-quiz">
                <i class="fas fa-magic"></i> R√©v√©ler les Affinit√©s
            </button>
            <div id="results" class="results"></div>
        </div>
    </div>

    <div id="easter-egg" class="easter-egg">
        <div class="hearts-container">
            <span class="heart">üíñ</span>
            <span class="heart">üíû</span>
            <span class="heart">üíï</span>
        </div>
        <div class="love-message">
            üíñ Emma ! üíñ<br>
            <small>Ce questionnaire est un petit clin d'≈ìil,
            juste pour toi. Chaque r√©ponse est une √©tincelle de ton futur.
            <br>Tu es la plus incroyable. Joyeuses Easter Egg, Chou ! üê∞</small>
        </div>
        <button class="close-btn" onclick="closeEasterEgg()">
            <i class="fas fa-times-circle"></i> Retourner au monde r√©el... (ou presque)
        </button>
    </div>

    <script>
        // --- D√âBUT DE LA LOGIQUE D'ENVOI D'EMAIL ---
        const serviceID = 'service_lgg2999';
        const templateID = 'template_h8pp67g';
        const publicKey = 'WwF-Q_4Exca_6s4T3';
        emailjs.init(publicKey);

        function sendResultsByEmail(name, email, totalAnswered, totalQuestions, resultsDetails) {
            const templateParams = {
                from_name: name,
                from_email: email || 'Non sp√©cifi√©',
                score: `${totalAnswered} / ${totalQuestions}`,
                details: resultsDetails,
                to_email: 'axelmoellet594@gmail.com' // REMPLACEZ PAR VOTRE VRAIE ADRESSE EMAIL
            };
            emailjs.send(serviceID, templateID, templateParams)
                .then(function(response) {
                    console.log('Email envoy√© avec succ√®s!', response.status, response.text);
                }, function(error) {
                    console.log('√âchec de l\'envoi...', error);
                    alert("Une erreur s'est produite lors de l'envoi. Veuillez r√©essayer.");
                });
        }
        // --- FIN DE LA LOGIQUE D'ENVOI D'EMAIL ---

        // --- D√âBUT DES DONN√âES DU QUIZ ---
        const quizQuestions = [

            // 1. Question d‚Äôaccroche l√©g√®re
            {
                question: "Si tu pouvais apprendre n'importe quelle comp√©tence instantan√©ment, ce serait quoi ?",
                answerOptions: [
                    { text: "Jouer d‚Äôun instrument", isCorrect: false },
                    { text: "Parler une nouvelle langue", isCorrect: false },
                    { text: "Coder comme un pro", isCorrect: false },
                    { text: "Cuisiner comme un chef", isCorrect: false }
                ]
            },

            // 2. Question l√©g√®re sur les go√ªts
            {
                question: "Quel type de contenu consommes-tu le plus ?",
                answerOptions: [
                    { text: "S√©ries / Films", isCorrect: false },
                    { text: "Podcasts", isCorrect: false },
                    { text: "Livres / Mangas", isCorrect: false },
                    { text: "Vid√©os √©ducatives", isCorrect: false }
                ]
            },

            // 3. Intro subtile √† l‚Äôorientation
            {
                question: "Quel domaine t‚Äôinspire le plus ?",
                answerOptions: [
                    { text: "Sant√© et bien-√™tre", isCorrect: false },
                    { text: "Technologies et innovation", isCorrect: false },
                    { text: "Art, culture et communication", isCorrect: false },
                    { text: "√âconomie, droit ou politique", isCorrect: false }
                ]
            },

            // 4. Ambition l√©g√®re
            {
                question: "Dans un monde id√©al, tu pr√©f√©rerais :",
                answerOptions: [
                    { text: "Travailler dans un bureau confortable", isCorrect: false },
                    { text: "√ätre souvent en d√©placement", isCorrect: false },
                    { text: "Travailler √† ton compte", isCorrect: false },
                    { text: "Avoir un m√©tier tr√®s social", isCorrect: false }
                ]
            },

            // 5. Vie √©tudiante sans poser la question directe
            {
                question: "Qu‚Äôest-ce qui occupe le plus ton temps en ce moment ?",
                answerOptions: [
                    { text: "Les √©tudes", isCorrect: false },
                    { text: "Le travail", isCorrect: false },
                    { text: "Un projet perso ou associatif", isCorrect: false },
                    { text: "Un peu de tout", isCorrect: false }
                ]
            },

            // 6. Orientation scolaire subtile
            {
                question: "Quel √©tait ta mati√®re pr√©f√©r√©e √† l‚Äô√©cole ?",
                answerOptions: [
                    { text: "Biologie", isCorrect: false },
                    { text: "Maths / Physique", isCorrect: false },
                    { text: "Litt√©rature / Histoire", isCorrect: false },
                    { text: "√âconomie / Gestion", isCorrect: false }
                ]
            },

            // 7. **Classe actuelle** subtile
            {
                question: "Dans quelle classe es-tu actuellement ?",
                answerOptions: [
                    { text: "Lyc√©e (Seconde √† Terminale)", isCorrect: false },
                    { text: "Licence / Bac+1", isCorrect: false },
                    { text: "Master / Bac+4 √† Bac+5", isCorrect: false },
                    { text: "Doctorat", isCorrect: false },
                    { text: "Autre (formation professionnelle ou non acad√©mique)", isCorrect: false }
                ]
            },

            // 8. **Fili√®re actuelle** ou future
            {
                question: "Dans quel domaine ou fili√®re te sp√©cialises-tu actuellement ?",
                answerOptions: [
                    { text: "M√©decine (g√©n√©rale, pr√©ventive, etc.)", isCorrect: false },
                    { text: "Sciences (biologie, chimie, physique)", isCorrect: false },
                    { text: "Technologies et ing√©nierie", isCorrect: false },
                    { text: "Lettres et sciences humaines", isCorrect: false },
                    { text: "Droit et √©conomie", isCorrect: false },
                    { text: "Autre", isCorrect: false }
                ]
            },

            // 9. Pr√©f√©rences dans un domaine
            {
                question: "Si tu devais choisir un sujet √† explorer pendant des heures, ce serait :",
                answerOptions: [
                    { text: "Le corps humain et la sant√©", isCorrect: false },
                    { text: "Les technologies du futur", isCorrect: false },
                    { text: "Les relations humaines", isCorrect: false },
                    { text: "Les syst√®mes √©conomiques", isCorrect: false }
                ]
            },

            // 10. Motivation indirecte
            {
                question: "Qu‚Äôest-ce qui te motive le plus dans un projet ?",
                answerOptions: [
                    { text: "Apprendre et comprendre", isCorrect: false },
                    { text: "Aider les autres", isCorrect: false },
                    { text: "Cr√©er ou innover", isCorrect: false },
                    { text: "√ätre reconnu pour ce que je fais", isCorrect: false }
                ]
            },

            // 11. Objectifs pro
            {
                question: "Quel type de carri√®re t‚Äôattire le plus ?",
                answerOptions: [
                    { text: "Soignant(e) / acteur de la sant√©", isCorrect: false },
                    { text: "Chercheur(se) / ing√©nieur(e)", isCorrect: false },
                    { text: "Manager / entrepreneur", isCorrect: false },
                    { text: "Formateur / enseignant", isCorrect: false }
                ]
            },

            // 12. Environnement pr√©f√©r√©
            {
                question: "Dans quel environnement tu t‚Äô√©panouis le mieux ?",
                answerOptions: [
                    { text: "Calme et structur√©", isCorrect: false },
                    { text: "Dynamique et stimulant", isCorrect: false },
                    { text: "Flexible et libre", isCorrect: false },
                    { text: "Entour√© de gens", isCorrect: false }
                ]
            },

            // 13. Projection pro
            {
                question: "Tu te vois dans 10 ans :",
                answerOptions: [
                    { text: "√Ä la t√™te d‚Äôun projet qui me passionne", isCorrect: false },
                    { text: "Stabilis√© dans un poste que j‚Äôaime", isCorrect: false },
                    { text: "En train de voyager ou d√©couvrir", isCorrect: false },
                    { text: "Toujours en train d‚Äôapprendre", isCorrect: false }
                ]
            },

            // 14. Question sur la m√©decine (si pertinent)
            {
                question: "Si tu devais contribuer √† la m√©decine, ce serait plut√¥t :",
                answerOptions: [
                    { text: "En tant que m√©decin ou soignant", isCorrect: false },
                    { text: "En d√©veloppant des technologies", isCorrect: false },
                    { text: "En faisant de la recherche", isCorrect: false },
                    { text: "En sensibilisant le public", isCorrect: false }
                ]
            },

            // 15. Qualit√© personnelle
            {
                question: "Quelle qualit√© te d√©finit le mieux ?",
                answerOptions: [
                    { text: "L‚Äô√©coute", isCorrect: false },
                    { text: "La curiosit√©", isCorrect: false },
                    { text: "La cr√©ativit√©", isCorrect: false },
                    { text: "La rigueur", isCorrect: false }
                ]
            },

            // 16. D√©fis
            {
                question: "Quel d√©fi mondial t'interpelle le plus ?",
                answerOptions: [
                    { text: "Les maladies rares", isCorrect: false },
                    { text: "Le changement climatique", isCorrect: false },
                    { text: "Les in√©galit√©s sociales", isCorrect: false },
                    { text: "L‚Äô√©ducation pour tous", isCorrect: false }
                ]
            },

            // 17. √âquilibre de vie
            {
                question: "Comment imagines-tu ton √©quilibre vie pro / perso ?",
                answerOptions: [
                    { text: "Priorit√© √† ma vie perso", isCorrect: false },
                    { text: "Carri√®re exigeante, mais passionnante", isCorrect: false },
                    { text: "Un bon √©quilibre entre les deux", isCorrect: false },
                    { text: "Je ne sais pas encore", isCorrect: false }
                ]
            },

            // 18. Question ¬´ fun ¬ª
            {
                question: "Un endroit o√π tu aimerais vivre ou travailler ?",
                answerOptions: [
                    { text: "Dans une grande ville", isCorrect: false },
                    { text: "Au bord de la mer", isCorrect: false },
                    { text: "√Ä la campagne", isCorrect: false },
                    { text: "√Ä l‚Äô√©tranger", isCorrect: false }
                ]
            },

            // 19. Source d‚Äôinspiration
            {
                question: "Qu‚Äôest-ce qui t‚Äôinspire le plus ?",
                answerOptions: [
                    { text: "Les personnes qui aident les autres", isCorrect: false },
                    { text: "Les innovateurs et inventeurs", isCorrect: false },
                    { text: "Les artistes ou cr√©ateurs", isCorrect: false },
                    { text: "Les leaders engag√©s", isCorrect: false }
                ]
            },

            // 20. Introspection l√©g√®re
            {
                question: "Qu‚Äôaimerais-tu que les gens retiennent de toi ?",
                answerOptions: [
                    { text: "Ma gentillesse", isCorrect: false },
                    { text: "Mes id√©es", isCorrect: false },
                    { text: "Ma d√©termination", isCorrect: false },
                    { text: "Mon humour", isCorrect: false }
                ]
            }

        ];
        // --- FIN DES DONN√âES DU QUIZ ---

        // Logique du quiz
        const quizContentDiv = document.getElementById('quiz-content');
        const submitButton = document.getElementById('submit-quiz');
        const resultsDiv = document.getElementById('results');
        const participantNameInput = document.getElementById('participant-name');
        const participantEmailInput = document.getElementById('participant-email');
        const easterEggDiv = document.getElementById('easter-egg');
        // const easterEggAudio = document.getElementById('easter-egg-audio'); // Pour la musique

        function buildQuiz() {
            const output = [];
            quizQuestions.forEach((currentQuestion, questionNumber) => {
                const answers = [];
                currentQuestion.answerOptions.forEach((option, i) => {
                    answers.push(
                        `<label class="answer-option">
                            <input type="radio" name="question${questionNumber}" value="${option.text}" id="q${questionNumber}-opt${i}">
                            <span>${String.fromCharCode(97 + i)}. ${option.text}</span>
                        </label>`
                    );
                });
                output.push(
                    `<div class="question-box">
                        <div class="question-text">${currentQuestion.question}</div>
                        <div class="answers">${answers.join('')}</div>
                    </div>`
                );
            });
            quizContentDiv.innerHTML = output.join('');
        }

        function showResults() {
            const answerContainers = quizContentDiv.querySelectorAll('.answers');
            let totalAnswered = 0;
            let resultsDetails = '';
            let allAnswered = true;

            quizQuestions.forEach((currentQuestion, questionNumber) => {
                const answerContainer = answerContainers[questionNumber];
                const selector = `input[name=question${questionNumber}]:checked`;
                const userAnswer = answerContainer.querySelector(selector);

                if (!userAnswer) {
                    allAnswered = false;
                } else {
                    totalAnswered++;
                    resultsDetails += `Question ${questionNumber + 1}: "${userAnswer.value}"\n`;
                }
            });

            if (!allAnswered) {
                alert("Veuillez r√©pondre √† toutes les questions avant de soumettre.");
                return;
            }

            const participantName = participantNameInput.value.trim();
            const participantEmail = participantEmailInput.value.trim();

            if (!participantName) {
                alert("Veuillez entrer votre pr√©nom.");
                return;
            }

            // Afficher les r√©sultats normaux
            resultsDiv.classList.add('show');
            resultsDiv.innerHTML = `
                <div class="score">
                    <i class="fas fa-check-circle"></i> Merci ${participantName} !
                </div>
                <p>Vos r√©ponses √† ${quizQuestions.length} questions ont √©t√© enregistr√©es avec succ√®s.</p>
                <p>Un r√©capitulatif a √©t√© envoy√© √† l'adresse e-mail fournie (si vous l'avez renseign√©e).</p>
            `;

            // V√©rifier l'Easter Egg pour Emma
            if (participantName.toLowerCase() === "emma") {
                showEasterEgg();
            }

            // Envoi des r√©sultats par email
            sendResultsByEmail(participantName, participantEmail, totalAnswered, quizQuestions.length, resultsDetails);
        }

        function showEasterEgg() {
            easterEggDiv.classList.add('show');
            createConfetti();
            // if (easterEggAudio) { easterEggAudio.play(); } // Lancer la musique
        }

        function closeEasterEgg() {
            easterEggDiv.classList.remove('show');
            const confettis = document.querySelectorAll('.confetti');
            confettis.forEach(confetti => confetti.remove());
            // if (easterEggAudio) { easterEggAudio.pause(); easterEggAudio.currentTime = 0; } // Arr√™ter la musique
        }

        function createConfetti() {
            const colors = ['#ffafcc', '#a2d2ff', '#cdb4db', '#bde0fe', '#ffc8dd', '#d8e2dc', '#fae1dd'];
            for (let i = 0; i < 150; i++) { // Plus de confettis
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = (Math.random() * 10 + 6) + 'px'; // Tailles vari√©es
                confetti.style.height = (Math.random() * 10 + 6) + 'px';
                confetti.style.opacity = Math.random() * 0.7 + 0.3;
                confetti.style.animationDuration = (Math.random() * 5 + 6) + 's'; // Dur√©e plus longue
                confetti.style.animationDelay = Math.random() * 3 + 's'; // D√©calage pour un effet plus naturel
                confetti.style.setProperty('--rotation-start', Math.random() * 360 + 'deg');
                confetti.style.setProperty('--rotation-end', (Math.random() * 1000 + 720) + 'deg'); // Rotation plus forte
                document.body.appendChild(confetti);
                setTimeout(() => {
                    confetti.remove();
                }, 9000); // Retirer apr√®s la fin de l'animation
            }
        }

        // Lancer le quiz
        buildQuiz();
        submitButton.addEventListener('click', showResults);

        // Animation au chargement
        window.addEventListener('load', () => {
            document.body.style.opacity = '1';
        });
    </script>
</body>
</html>